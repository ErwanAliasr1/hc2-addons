{"name":"RX-A1030 Bat","type":"virtual_device","properties":{"deviceIcon":25,"currentIcon":"25","log":"","logTemp":"","mainLoop":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\nlocal myYam = {}\nlocal myYamZone2 = {}\n-- infos Main Zone\npayload = '<YAMAHA_AV cmd=\"GET\"><Main_Zone><Basic_Status>GetParam</Basic_Status></Main_Zone></YAMAHA_AV>'\nresponse, status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nmyYam.volume, myYam.exp, myYam.unite = response:match('<Volume><Lvl><Val>(.-)</Val><Exp>(.-)</Exp><Unit>(.-)</Unit></Lvl>');\nmyYam.power, myYam.sleep = response:match('<Power_Control><Power>(.-)</Power><Sleep>(.-)</Sleep></Power_Control>');\nmyYam.input, myYam.inputTitle = response:match('<Input><Input_Sel>(.-)</Input_Sel>.-<Title>(.-)</Title>');\nmyYam.straight, myYam.enhancer, myYam.soundProgram, myYam._3DDsp = response:match('<Surround><Program_Sel><Current><Straight>(.-)</Straight><Enhancer>(.-)</Enhancer><Sound_Program>(.-)</Sound_Program></Current></Program_Sel><_3D_Cinema_DSP>(.-)</_3D_Cinema_DSP></Surround>');\nmyYam.bass, myYam.treble, myYam.pureDirect, myYam.hdmiStandbyThroughInfo, myYam.hdmiOut1, myYam.hdmiOut2, myYam.hdmiOut2info, myYam.adaptativeDRC, myYam.dialogueLift, myYam.dialogueLevel =response:match('<Sound_Video><Tone><Bass><Val>(.-)</Val><Exp>1</Exp><Unit>dB</Unit></Bass><Treble><Val>(.-)</Val><Exp>1</Exp><Unit>dB</Unit></Treble></Tone><Pure_Direct><Mode>(.-)</Mode></Pure_Direct><HDMI><Standby_Through_Info>(.-)</Standby_Through_Info><Output><OUT_1>(.-)</OUT_1><OUT_2>(.-)</OUT_2><OUT_2_Info>(.-)</OUT_2_Info></Output></HDMI><Adaptive_DRC>(.-)</Adaptive_DRC><Dialogue_Adjust><Dialogue_Lift>(.-)</Dialogue_Lift><Dialogue_Lvl>(.-)</Dialogue_Lvl></Dialogue_Adjust></Sound_Video>');\nmyYam.partyInfo = response:match('<Party_Info>(.-)</Party_Info>');\n\n--infos ZONE 2\npayload = '<YAMAHA_AV cmd=\"GET\"><Zone_2><Basic_Status>GetParam</Basic_Status></Zone_2></YAMAHA_AV>'\nresponse, status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\nmyYamZone2.volume, myYamZone2.exp, myYamZone2.unite = response:match('<Volume><Lvl><Val>(.-)</Val><Exp>(.-)</Exp><Unit>(.-)</Unit></Lvl>');\nmyYamZone2.power, myYamZone2.sleep = response:match('<Power_Control><Power>(.-)</Power><Sleep>(.-)</Sleep></Power_Control>');\n\n-- debug\nfibaro:debug('myYam:'..json.encode(myYam));\nfibaro:debug('myYamZone2:'..json.encode(myYamZone2));\n\n-- GUI update\nfibaro:call(selfId, \"setProperty\", \"ui.power.value\", myYam.power);\nfibaro:call(selfId, \"setProperty\", \"ui.input.value\", myYam.inputTitle..' ('..myYam.input..')'); \nfibaro:call(selfId, \"setProperty\", \"ui.mainZoneVolume.value\", tonumber(myYam.volume/10)..' db');\nfibaro:call(selfId, \"setProperty\", \"ui.soundProgram.value\", myYam.soundProgram);\n\nfibaro:call(selfId, \"setProperty\", \"ui.zone2Power.value\", myYamZone2.power);\nfibaro:call(selfId, \"setProperty\", \"ui.zone2Volume.value\", tonumber(myYamZone2.volume/10)..' db');\n\nfibaro:sleep(10*60);\n\nmyYam.soundMoreLabel = '';\nif myYam.pureDirect == 'On' then myYam.soundMoreLabel = 'Pure Direct' end\nif myYam.partyInfo == 'On' then myYam.soundMoreLabel = myYam.soundMoreLabel..' Party Mode' end\nfibaro:call(selfId, \"setProperty\", \"ui.soundMore.value\", myYam.soundMoreLabel);\n\nmyYam.OutLabel = '';\nif myYam.hdmiOut1 == 'On' then myYam.OutLabel = 'TV (Out1)' end\nif myYam.hdmiOut2 == 'On' then myYam.OutLabel = myYam.OutLabel..' Projector (Out2)' end\nfibaro:call(selfId, \"setProperty\", \"ui.hdmiOut.value\", myYam.OutLabel);\n","ui.hdmiOut.value":" Projector (Out2)","ui.input.value":"AUDIO1 (AUDIO1)","ui.mainPower.value":"","ui.mainZoneVolume.value":"-34 db","ui.soundMore.value":"","ui.soundProgram.value":"The Bottom Line","ui.zone2Power.value":"Standby","ui.zone2Volume.value":"-45 db","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Main power","name":"mainPower","favourite":false,"main":false}]},{"type":"button","elements":[{"id":2,"lua":true,"waitForResponse":false,"caption":"Main ON","name":"mainON","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Power_Control><Power>On</Power></Power_Control></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainOn')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":3,"lua":true,"waitForResponse":false,"caption":"Main Off","name":"mainOff","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Power_Control><Power>Standby</Power></Power_Control></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainOff')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":4,"lua":false,"waitForResponse":false,"caption":"Input","name":"input","favourite":false,"main":false}]},{"type":"button","elements":[{"id":5,"lua":true,"waitForResponse":false,"caption":"AV1","name":"AV1","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AV1</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AV1')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend\n","buttonIcon":25,"favourite":false,"main":false},{"id":6,"lua":true,"waitForResponse":false,"caption":"AV2","name":"AV2","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AV2</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AV2')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend\n","buttonIcon":25,"favourite":false,"main":false},{"id":7,"lua":true,"waitForResponse":false,"caption":"AV3","name":"AV3","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AV3</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AV3')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":8,"lua":true,"waitForResponse":false,"caption":"AV4","name":"AV4","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AV4</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AV4')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":9,"lua":true,"waitForResponse":false,"caption":"AV5","name":"AV5","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AV5</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AV5')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":10,"lua":true,"waitForResponse":false,"caption":"AV6","name":"AV6","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AV6</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AV6')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":11,"lua":true,"waitForResponse":false,"caption":"AV7","name":"AV7","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AV7</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AV7')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":12,"lua":true,"waitForResponse":false,"caption":"V-AUX","name":"VAUX","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>V-AUX</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:V-AUX')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":13,"lua":true,"waitForResponse":false,"caption":"Audio1","name":"Audio1","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AUDIO1</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AUDIO1')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":0,"favourite":false,"main":false},{"id":14,"lua":true,"waitForResponse":false,"caption":"Audio2","name":"Audio2","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AUDIO2</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AUDIO2')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":0,"favourite":false,"main":false},{"id":15,"lua":true,"waitForResponse":false,"caption":"Audio3","name":"Audio3","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AUDIO3</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AUDIO3')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":16,"lua":true,"waitForResponse":false,"caption":"Audio4","name":"Audio4","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AUDIO4</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AUDIO4')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":17,"lua":true,"waitForResponse":false,"caption":"Tuner","name":"Tuner","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>TUNER</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:TUNER')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":18,"lua":true,"waitForResponse":false,"caption":"Phono","name":"Phono","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>PHONO</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:PHONO')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":19,"lua":true,"waitForResponse":false,"caption":"Net","name":"Net","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>NET</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:NET')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":20,"lua":true,"waitForResponse":false,"caption":"Server","name":"Server","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>SERVER</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:SERVER')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":21,"lua":true,"waitForResponse":false,"caption":"NetRad","name":"NetRadio","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>PHONO</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:PHONO')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":22,"lua":true,"waitForResponse":false,"caption":"USB","name":"USB","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>USB</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:USB')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":23,"lua":true,"waitForResponse":false,"caption":"iPOD","name":"iPOD","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>iPod (USB)</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:iPOD')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":24,"lua":true,"waitForResponse":false,"caption":"AirPla","name":"AirPlay","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Input><Input_Sel>AirPlay</Input_Sel></Input></Main_Zone></YAMAHA_AV>'\nfibaro:log('Yam:AirPlay')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":25,"lua":false,"waitForResponse":false,"caption":"MainZone Volume","name":"mainZoneVolume","favourite":false,"main":false}]},{"type":"button","elements":[{"id":26,"lua":true,"waitForResponse":false,"caption":"-50","name":"yamMainVolume50","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Lvl><Val>-500</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainVolume50')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":27,"lua":true,"waitForResponse":false,"caption":"-45","name":"yamMainVolume45","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Lvl><Val>-450</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainVolume45')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":28,"lua":true,"waitForResponse":false,"caption":"-40","name":"yamMainVolume40","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Lvl><Val>-400</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainVolume40')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":29,"lua":true,"waitForResponse":false,"caption":"-36","name":"yamMainVolume36","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Lvl><Val>-360</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainVolume36')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":30,"lua":true,"waitForResponse":false,"caption":"-32","name":"yamMainVolume32","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Lvl><Val>-320</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainVolume32')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":31,"lua":true,"waitForResponse":false,"caption":"unMute","name":"yamMuteOff","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Mute>Off</Mute></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMuteOff')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":32,"lua":true,"waitForResponse":false,"caption":"Mute","name":"yamMuteOn","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Mute>On</Mute></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMuteOn')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":33,"lua":true,"waitForResponse":false,"caption":"-1db","name":"yamMainVolumeDown1db","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Lvl><Val>Down 1 dB</Val><Exp></Exp><Unit></Unit></Lvl></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainVolumeDown1db')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":34,"lua":true,"waitForResponse":false,"caption":"+1db","name":"yamMainVolumeUp1db","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Volume><Lvl><Val>Up 1 dB</Val><Exp></Exp><Unit></Unit></Lvl></Volume></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainVolumeUp1db')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":35,"lua":false,"waitForResponse":false,"caption":"soundProgram","name":"soundProgram","favourite":false,"main":false}]},{"type":"button","elements":[{"id":36,"lua":true,"waitForResponse":false,"caption":"Standard","name":"YamMainSurroundStandard","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Surround><Program_Sel><Current><Sound_Program>Standard</Sound_Program></Current></Program_Sel></Surround></Main_Zone></YAMAHA_AV>'\nfibaro:log('YamMainSurroundStandard')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":37,"lua":true,"waitForResponse":false,"caption":"Sports","name":"yamMainSurroundSports","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Surround><Program_Sel><Current><Sound_Program>Sports</Sound_Program></Current></Program_Sel></Surround></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainSurroundSports')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":38,"lua":true,"waitForResponse":false,"caption":"stereo 2ch","name":"yamMainSurroundStereo2ch","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Surround><Program_Sel><Current><Sound_Program>2ch Stereo/Sound_Program></Current></Program_Sel></Surround></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainSurroundStereo2ch')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":39,"lua":true,"waitForResponse":false,"caption":"stereo 7ch","name":"yamMainSurroundStereo7ch","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Surround><Program_Sel><Current><Straight>Off</Straight><Sound_Program>7ch Stereo</Sound_Program></Current></Program_Sel></Surround></Main_Zone></YAMAHA_AV>'\nfibaro:log('yamMainSurroundStereo7ch')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":40,"lua":false,"waitForResponse":false,"caption":"soundMore","name":"soundMore","favourite":false,"main":false}]},{"type":"button","elements":[{"id":41,"lua":true,"waitForResponse":false,"caption":"PureDirect Off","name":"PureDirectOff","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Sound_Video><Pure_Direct><Mode>Off</Mode></Pure_Direct></Sound_Video></Main_Zone></YAMAHA_AV>'\nfibaro:log('yam:PureDirectOn')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":0,"favourite":false,"main":false},{"id":42,"lua":true,"waitForResponse":false,"caption":"PureDirect On","name":"PureDirectOn","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Main_Zone><Sound_Video><Pure_Direct><Mode>On</Mode></Pure_Direct></Sound_Video></Main_Zone></YAMAHA_AV>'\nfibaro:log('yam:PureDirectOn')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":43,"lua":true,"waitForResponse":false,"caption":"Party Off","name":"yamPartyOff","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><System><Party_Mode><Mode>Off</Mode></Party_Mode></System></YAMAHA_AV>'\nfibaro:log('yamPartyOff')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":44,"lua":true,"waitForResponse":false,"caption":"Party On","name":"yamPartyOn","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><System><Party_Mode><Mode>On</Mode></Party_Mode></System></YAMAHA_AV>'\nfibaro:log('yamPartyOn')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":45,"lua":true,"waitForResponse":false,"caption":"Party Vol -","name":"PartyVolumeDown","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><System><Party_Mode><Volume><Lvl>Down</Lvl></Volume></Party_Mode></System></YAMAHA_AV>'\nfibaro:log('Yam:PartyVolumeDown')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":46,"lua":true,"waitForResponse":false,"caption":"Party Vol +","name":"PartyVolumeUp","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><System><Party_Mode><Volume><Lvl>Up</Lvl></Volume></Party_Mode></System></YAMAHA_AV>'\nfibaro:log('Yam:PartyVolumeUp')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":47,"lua":false,"waitForResponse":false,"caption":"hdmiOut","name":"hdmiOut","favourite":false,"main":false}]},{"type":"button","elements":[{"id":48,"lua":true,"waitForResponse":false,"caption":"to TV","name":"toTV","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><System><Sound_Video><HDMI><Output><OUT_1>On</OUT_1><OUT_2>Off</OUT_2></Output></HDMI></Sound_Video></System></YAMAHA_AV>'\nfibaro:log('Yam:out1')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":true},{"id":49,"lua":true,"waitForResponse":false,"caption":"to Projector","name":"toProjector","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><System><Sound_Video><HDMI><Output><OUT_1>Off</OUT_1><OUT_2>On</OUT_2></Output></HDMI></Sound_Video></System></YAMAHA_AV>'\nfibaro:log('Yam:out2')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend\n","buttonIcon":25,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":50,"lua":false,"waitForResponse":false,"caption":"Zone 2 power","name":"zone2Power","favourite":false,"main":false}]},{"type":"button","elements":[{"id":51,"lua":true,"waitForResponse":false,"caption":"zone 2 OFF","name":"zone2Off","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Power_Control><Power>Standby</Power></Power_Control></Zone_2></YAMAHA_AV>'\nfibaro:log('Yam:out2')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":52,"lua":true,"waitForResponse":false,"caption":"zone 2 ON","name":"zone2On","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Power_Control><Power>On</Power></Power_Control></Zone_2></YAMAHA_AV>'\nfibaro:log('Yam:out2')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":53,"lua":false,"waitForResponse":false,"caption":"Zone 2 volume","name":"zone2Volume","favourite":false,"main":false}]},{"type":"button","elements":[{"id":54,"lua":true,"waitForResponse":false,"caption":"-50","name":"zone2Volume50","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Lvl><Val>-500</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2Volume50')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":55,"lua":true,"waitForResponse":false,"caption":"-45","name":"zone2Volume45","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Lvl><Val>-450</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2Volume50')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":56,"lua":true,"waitForResponse":false,"caption":"-40","name":"zone2Volume40","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Lvl><Val>-400</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2Volume50')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":57,"lua":true,"waitForResponse":false,"caption":"-36","name":"zone2Volume36","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Lvl><Val>-360</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2Volume50')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":58,"lua":true,"waitForResponse":false,"caption":"-32","name":"zone2Volume32","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Lvl><Val>-320</Val><Exp>1</Exp><Unit>dB</Unit></Lvl></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2Volume50')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":59,"lua":true,"waitForResponse":false,"caption":"unMute","name":"zone2Unmute","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Mute>Off</Mute></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2Unmute')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":60,"lua":true,"waitForResponse":false,"caption":"Mute","name":"zone2Mute","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Mute>On</Mute></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2Mute')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":61,"lua":true,"waitForResponse":false,"caption":"-1db","name":"yamZone2VolumeDown1db","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Lvl><Val>Down 1 dB</Val><Exp></Exp><Unit></Unit></Lvl></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2VolumeDown1db')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false},{"id":62,"lua":true,"waitForResponse":false,"caption":"+1db","name":"yamZone2VolumeUp1db","empty":false,"msg":"local selfId = fibaro:getSelfId();\nlocal _deviceIp = fibaro:get(selfId, \"IPAddress\");\nlocal _devicePort = fibaro:get(selfId, \"TCPPort\");\nYAM = Net.FHttp(_deviceIp,_devicePort)\n\npayload = '<YAMAHA_AV cmd=\"PUT\"><Zone_2><Volume><Lvl><Val>Up 1 dB</Val><Exp></Exp><Unit></Unit></Lvl></Volume></Zone_2></YAMAHA_AV>'\nfibaro:log('yamZone2VolumeDown1db')\n\nresponse ,status, errorCode = YAM:POST('/YamahaRemoteControl/ctrl', payload)\n\nfibaro:sleep(3000)\nif errorCode == 0\n   then\n     fibaro:log('status'..status)\n   else\n     fibaro:log(\"error\")\nend","buttonIcon":25,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}